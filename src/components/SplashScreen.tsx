import React, { useEffect, useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

interface SplashScreenProps {
  onComplete: () => void;
}

// FinLit Logo SVG component - the yellow plant icon
const FinLitLogo: React.FC<{ className?: string }> = ({ className }) => (
  <svg 
    viewBox="0 0 228 288" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
    className={className}
  >
    <path 
      fillRule="evenodd" 
      clipRule="evenodd" 
      d="M18.773 78.064C31.843 91.102 50.328 95.424 64.631 96.732C71.924 97.409 78.418 97.327 83.08 97.048C85.429 96.93 87.343 96.768 88.694 96.615C89.329 96.533 89.891 96.497 90.245 96.452C90.408 96.416 90.563 96.416 90.681 96.371H90.844C93.71 95.938 95.941 93.718 96.34 90.903V90.822L96.377 90.705C96.377 90.624 96.413 90.47 96.413 90.272C96.449 89.911 96.531 89.397 96.612 88.729C96.73 87.421 96.894 85.517 97.048 83.18C97.284 78.543 97.365 72.046 96.73 64.828C95.415 50.6 91.034 32.176 77.964 19.174C64.894 6.173 46.409 1.815 32.07 0.507C24.823 -0.125 18.328 -0.043 13.621 0.191C11.272 0.354 9.394 0.507 8.043 0.669C7.363 0.705 6.846 0.787 6.492 0.832C6.292 0.868 6.174 0.868 6.057 0.913H5.857C3.027 1.346 0.796 3.566 0.397 6.381L0.36 6.417V6.579C0.36 6.66 0.324 6.814 0.324 6.976C0.243 7.373 0.206 7.887 0.125 8.564C0.007 9.872 -0.193 11.776 -0.311 14.113C-0.547 18.75 -0.673 25.211 0.007 32.465C1.322 46.693 5.667 65.081 18.773 78.082V78.064ZM12.678 14.817C12.714 14.266 12.759 13.707 12.759 13.229C13.276 13.193 13.793 13.147 14.356 13.111C18.582 12.913 24.433 12.796 30.927 13.391C44.151 14.618 58.935 18.507 68.776 28.332C78.654 38.122 82.563 52.864 83.796 66.019C84.395 72.479 84.313 78.263 84.077 82.467C84.041 83.018 83.996 83.541 83.96 84.055C83.479 84.091 82.962 84.136 82.409 84.136C78.182 84.371 72.332 84.452 65.838 83.857C52.613 82.666 37.829 78.741 27.952 68.952C18.111 59.126 14.211 44.419 12.968 31.265C12.369 24.804 12.451 18.976 12.687 14.817H12.678ZM112.041 88.729C112.122 89.406 112.204 89.92 112.24 90.272C112.276 90.47 112.276 90.633 112.276 90.705L112.313 90.822V90.903C112.748 93.718 114.943 95.938 117.809 96.371H117.972C118.09 96.407 118.254 96.407 118.408 96.452C118.807 96.488 119.324 96.533 120.004 96.615C121.319 96.777 123.233 96.93 125.582 97.048C130.244 97.327 136.738 97.409 144.031 96.732C158.334 95.424 176.819 91.102 189.926 78.064C202.996 65.063 207.331 46.675 208.646 32.447C209.326 25.192 209.245 18.732 208.964 14.095C208.846 11.758 208.682 9.854 208.528 8.546C208.492 7.869 208.41 7.355 208.365 6.958C208.329 6.796 208.329 6.642 208.283 6.561V6.362C207.848 3.547 205.617 1.328 202.787 0.895H202.587C202.506 0.859 202.352 0.859 202.188 0.814C201.789 0.778 201.272 0.696 200.592 0.651C199.277 0.489 197.363 0.335 195.014 0.173C190.352 -0.062 183.858 -0.143 176.565 0.489C162.262 1.797 143.777 6.155 130.671 19.156C117.601 32.158 113.265 50.582 111.95 64.81C111.27 72.019 111.351 78.524 111.587 83.162C111.75 85.499 111.905 87.403 112.022 88.711L112.041 88.729ZM124.902 66.019C126.099 52.864 129.999 38.158 139.886 28.332C149.763 18.507 164.547 14.618 177.772 13.391C184.266 12.796 190.125 12.913 194.306 13.111C194.86 13.147 195.422 13.193 195.903 13.229C195.939 13.707 195.984 14.221 196.021 14.771C196.22 18.976 196.302 24.795 195.703 31.256C194.506 44.41 190.606 59.117 180.719 68.907V68.943C170.842 78.732 156.058 82.657 142.834 83.848C136.339 84.443 130.48 84.362 126.262 84.127C125.709 84.127 125.183 84.091 124.712 84.046C124.675 83.532 124.63 83.018 124.594 82.458C124.358 78.254 124.312 72.47 124.911 66.01L124.902 66.019ZM224.501 104.139L224.464 104.103L224.346 104.067H224.265L224.183 104.031L224.02 103.995C223.739 103.914 223.385 103.797 222.868 103.679C221.916 103.4 220.519 103.048 218.805 102.651C215.376 101.902 210.56 101.027 205.1 100.63C194.379 99.836 179.921 100.711 168.33 108.912C156.738 117.159 151.16 130.467 148.412 140.771C147.015 146.085 146.298 150.876 145.899 154.323C145.7 156.064 145.582 157.489 145.536 158.527C145.5 159.005 145.455 159.438 145.455 159.718V160.196C145.373 163.047 147.205 165.628 149.954 166.494H149.99L150.071 166.53C150.153 166.53 150.271 166.566 150.434 166.611C150.67 166.692 151.069 166.81 151.55 166.972C152.548 167.207 153.944 167.604 155.65 167.965C159.078 168.759 163.894 169.589 169.355 170.022C180.075 170.816 194.533 169.904 206.125 161.703C217.716 153.456 223.294 140.148 226.006 129.844C227.403 124.53 228.156 119.775 228.555 116.293C228.755 114.551 228.872 113.126 228.918 112.133C228.954 111.619 228.954 111.222 228.999 110.942V110.428C229.036 107.577 227.249 105.042 224.501 104.166V104.139ZM213.462 126.497C210.995 135.808 206.487 145.562 198.606 151.147C190.715 156.777 179.957 157.805 170.316 157.092C165.817 156.777 161.79 156.064 158.842 155.432C159.205 152.419 159.84 148.422 160.992 144.1C163.459 134.789 167.967 125.035 175.849 119.451C183.776 113.866 194.497 112.792 204.138 113.505C208.637 113.821 212.664 114.533 215.612 115.165C215.249 118.178 214.614 122.175 213.462 126.497ZM55.271 167.947C56.985 167.586 58.382 167.198 59.334 166.954C59.851 166.792 60.214 166.674 60.486 166.593C60.649 166.557 60.767 166.512 60.849 166.512L60.931 166.476H60.967C63.715 165.601 65.547 163.029 65.466 160.178V159.7C65.466 159.384 65.429 158.987 65.384 158.509C65.348 157.48 65.221 156.055 65.021 154.305C64.622 150.858 63.906 146.058 62.509 140.753C59.761 130.449 54.182 117.132 42.627 108.894C31.036 100.693 16.569 99.818 5.857 100.576C0.397 101.009 -4.383 101.848 -7.812 102.633C-9.526 102.994 -10.923 103.345 -11.911 103.625C-12.392 103.788 -12.791 103.86 -13.063 103.941C-13.181 103.977 -13.299 104.022 -13.381 104.058L-13.462 104.094H-13.499C-16.247 104.969 -18.079 107.505 -17.997 110.356V110.87C-17.997 111.15 -17.961 111.547 -17.961 112.061C-17.88 113.054 -17.762 114.479 -17.598 116.221C-17.199 119.712 -16.483 124.503 -15.086 129.772C-12.338 140.112 -6.796 153.429 4.796 161.676C16.351 169.877 30.854 170.789 41.566 169.995C47.026 169.562 51.842 168.722 55.271 167.938V167.947ZM12.324 151.147C4.433 145.562 -0.066 135.808 -2.497 126.533C-3.648 122.175 -4.292 118.133 -4.61 115.156C-1.662 114.524 2.32 113.812 6.827 113.496C16.469 112.783 27.181 113.857 35.072 119.442C42.963 125.026 47.462 134.78 49.929 144.091C51.08 148.413 51.724 152.41 52.078 155.423C49.13 156.055 45.103 156.768 40.568 157.083C30.963 157.796 20.215 156.768 12.324 151.138V151.147ZM166.933 231.393C157.373 229.209 148.566 224.581 141.4 217.922C134.226 211.264 128.929 202.864 126.027 193.552C123.161 184.241 122.761 174.334 124.947 164.825C127.142 155.315 131.795 146.518 138.453 139.381C139.568 138.19 140.203 136.611 140.203 134.978C140.203 132.524 139.251 129.745 138.054 127.291C136.738 124.675 134.743 121.778 131.959 119.09C126.344 113.622 117.655 109.183 105.428 109.183C93.202 109.183 84.114 113.902 78.735 119.604C76.105 122.374 74.354 125.351 73.239 127.887C72.159 130.269 71.443 132.84 71.443 134.942C71.443 136.566 72.078 138.154 73.193 139.345C76.622 142.99 79.524 147.068 81.801 151.508C83.352 154.44 84.667 157.571 85.665 160.783C88.132 168.75 88.776 177.186 87.533 185.468C86.254 193.715 83.152 201.6 78.454 208.494C75.987 212.058 73.157 215.351 69.964 218.247C67.017 220.945 63.706 223.318 60.205 225.339H60.169C55.352 228.109 50.128 230.175 44.713 231.402C42.963 231.799 41.448 232.945 40.532 234.497C39.652 236.039 39.416 237.907 39.979 239.612C44.323 253.642 53.049 265.886 64.876 274.602C76.749 283.317 91.089 288 105.828 288C120.566 288 134.906 283.326 146.779 274.602C158.616 265.886 167.332 253.633 171.676 239.612C172.23 237.907 171.994 236.048 171.123 234.497C170.207 232.954 168.692 231.844 166.942 231.402L166.933 231.393ZM139.051 264.163C129.41 271.254 117.782 275.062 105.828 275.062C93.873 275.062 82.245 271.254 72.604 264.163C64.794 258.415 58.618 250.764 54.718 241.967C58.863 240.542 62.881 238.719 66.708 236.536C75.67 231.384 83.361 224.292 89.175 215.766C95.034 207.249 98.853 197.54 100.367 187.354C101.918 177.168 101.12 166.783 98.054 156.921C95.343 148.205 90.925 140.157 85.066 133.183L85.102 133.102C85.701 131.712 86.699 130.052 88.25 128.428C91.116 125.333 96.259 122.085 105.419 122.085C114.58 122.085 119.641 125.216 122.87 128.347C124.585 129.971 125.7 131.64 126.417 133.066C126.453 133.147 126.498 133.228 126.535 133.264C119.56 141.547 114.698 151.372 112.276 161.92C109.61 173.649 110.045 185.856 113.592 197.351C117.174 208.846 123.668 219.185 132.512 227.387C139.559 233.883 147.886 238.881 156.928 241.967C153.028 250.764 146.852 258.415 139.042 264.163H139.051Z" 
      fill="#FFEE5A"
    />
  </svg>
);

const SplashScreen: React.FC<SplashScreenProps> = ({ onComplete }) => {
  const [phase, setPhase] = useState<'logo' | 'fade'>('logo');

  useEffect(() => {
    // Show logo for 2 seconds, then fade out
    const timer = setTimeout(() => {
      setPhase('fade');
    }, 2000);

    const completeTimer = setTimeout(() => {
      onComplete();
    }, 2500);

    return () => {
      clearTimeout(timer);
      clearTimeout(completeTimer);
    };
  }, [onComplete]);

  return (
    <AnimatePresence>
      {phase !== 'fade' && (
        <motion.div
          className="fixed inset-0 z-[100] flex items-center justify-center"
          style={{
            background: 'radial-gradient(circle at center, #13593F 0%, #0a2e20 100%)'
          }}
          initial={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          transition={{ duration: 0.5 }}
        >
          {/* Subtle glow effect */}
          <div 
            className="absolute inset-0"
            style={{
              background: 'radial-gradient(circle at 50% 30%, rgba(5, 220, 127, 0.15) 0%, transparent 50%)'
            }}
          />
          
          {/* Logo */}
          <motion.div
            initial={{ scale: 0.8, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            transition={{ 
              duration: 0.8, 
              ease: [0.16, 1, 0.3, 1] 
            }}
          >
            <FinLitLogo className="w-48 h-60" />
          </motion.div>

          {/* Bottom home indicator (iOS style) */}
          <div className="absolute bottom-4 left-1/2 -translate-x-1/2">
            <div className="w-36 h-1 bg-white/30 rounded-full" />
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default SplashScreen;
export { FinLitLogo };
